#include <stdio.h>

#define MAXWORDLEN 14
#define IN  1
#define OUT 0

/**
 * Wordlength histogram. As the assignment says;
 * "horizontal is easy" - and I'm looking to blaze past the syntax part
 */
void main ()
{
    int c, i, j, char_count, state, words;
    int hist[MAXWORDLEN + 1]; // We want to count >MAXWORDLEN as well to prevent overflows

    c = i = j = char_count = state = words = 0;

    for(i = 0; i <= MAXWORDLEN + 1; i++)
        hist[i] = 0;

    while ((c = getchar()) != EOF){
        if (c == ' ' || c == '\t' || c == '\n') {
            state = OUT;
            if (char_count > MAXWORDLEN)
                hist[MAXWORDLEN]++;
            else if (char_count > 0)
                hist[char_count - 1]++;
        
            char_count = 0;
        } else if (state == OUT) {
            state = IN;
            char_count++;
            words++;
        } else {
            char_count++;
        }
    }
    
    for(i = MAXWORDLEN; i >= 0; i--) {
        if (i == MAXWORDLEN)
            printf(">%3d | ", MAXWORDLEN);
        else {
            printf("%4d | ", i + 1);
        }
        
        for(j = hist[i]; j > 0; j--) {
            printf("\u2589");
        }
        printf("\n");
    }
    printf("\n");
}